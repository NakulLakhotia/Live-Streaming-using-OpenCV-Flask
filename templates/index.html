<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <link href="pico.min.css" rel="stylesheet" />
    <style>
        h1{
            margin-top: 0%;
            margin-bottom: 0%;
            text-align: center;
        }
        h3{
            margin-top: 0%;
            text-align: center;
        }
        img{
            border-style: groove;
            border-radius: 2%;
            border-color: cornflowerblue;
            margin-bottom: 10%;
        }
        a{
            margin-top: 3%;
            margin-bottom: 0%;
            align-content: end;
        }
    </style>

    <title>Live Streaming</title>
</head>

<body>
    <main class="container" data-theme="dark" style="padding: 0%;">
    <div style="display: flex; justify-content: end;">
        <a role="button" href="/logout">Logout</a>
    </div>

    <h1 class="header">CAMARA</h3>
    <h3 id="current-datetime" class="header"> {{ current_datetime }} </h3>
    <p>Bienvenido!</p>
    <div class="grid">
        <img id="video_feed" src="{{ url_for('video_feed') }}" alt="Surveillance Feed" width="100%">
    </div>
     
    </main>
</body>

</html>

<script>
    function updateCurrentDatetime() {
        const currentDatetimeElement = document.getElementById('current-datetime');
        const currentDatetime = new Date();

        const formattedDatetime = currentDatetime.toLocaleString(); 

        currentDatetimeElement.textContent = formattedDatetime;
    }

    // Update the datetime initially and then every second
    updateCurrentDatetime();
    setInterval(updateCurrentDatetime, 1000);
</script>